[{"/Users/apple/dev/nober-eats-frontend/src/App.tsx":"1","/Users/apple/dev/nober-eats-frontend/src/pages/404.tsx":"2","/Users/apple/dev/nober-eats-frontend/src/components/form-error.tsx":"3","/Users/apple/dev/nober-eats-frontend/src/index.tsx":"4","/Users/apple/dev/nober-eats-frontend/src/routers/logged-in-router.tsx":"5","/Users/apple/dev/nober-eats-frontend/src/constant.ts":"6","/Users/apple/dev/nober-eats-frontend/src/pages/create-account.tsx":"7","/Users/apple/dev/nober-eats-frontend/src/pages/login.tsx":"8","/Users/apple/dev/nober-eats-frontend/src/components/header.tsx":"9","/Users/apple/dev/nober-eats-frontend/src/pages/user/confirm-email.tsx":"10","/Users/apple/dev/nober-eats-frontend/src/routers/logged-out-router.tsx":"11","/Users/apple/dev/nober-eats-frontend/src/pages/user/edit-profile.tsx":"12","/Users/apple/dev/nober-eats-frontend/src/apollo.ts":"13","/Users/apple/dev/nober-eats-frontend/src/pages/client/restaurants.tsx":"14","/Users/apple/dev/nober-eats-frontend/src/components/button.tsx":"15","/Users/apple/dev/nober-eats-frontend/src/reportWebVitals.ts":"16","/Users/apple/dev/nober-eats-frontend/src/__generated__/globalTypes.ts":"17"},{"size":403,"mtime":1619679010429,"results":"18","hashOfConfig":"19"},{"size":471,"mtime":1619662128196,"results":"20","hashOfConfig":"19"},{"size":227,"mtime":1619662128195,"results":"21","hashOfConfig":"19"},{"size":751,"mtime":1619662128196,"results":"22","hashOfConfig":"19"},{"size":1649,"mtime":1619685176481,"results":"23","hashOfConfig":"19"},{"size":49,"mtime":1619662128195,"results":"24","hashOfConfig":"19"},{"size":4941,"mtime":1619680730716,"results":"25","hashOfConfig":"19"},{"size":4480,"mtime":1619674960101,"results":"26","hashOfConfig":"19"},{"size":1127,"mtime":1619755078457,"results":"27","hashOfConfig":"19"},{"size":2024,"mtime":1619685084847,"results":"28","hashOfConfig":"19"},{"size":575,"mtime":1619662128198,"results":"29","hashOfConfig":"19"},{"size":3041,"mtime":1619754975813,"results":"30","hashOfConfig":"19"},{"size":1276,"mtime":1619662128194,"results":"31","hashOfConfig":"19"},{"size":112,"mtime":1619662128196,"results":"32","hashOfConfig":"19"},{"size":504,"mtime":1619662128194,"results":"33","hashOfConfig":"19"},{"size":425,"mtime":1619662128197,"results":"34","hashOfConfig":"19"},{"size":853,"mtime":1619754498367,"results":"35","hashOfConfig":"19"},{"filePath":"36","messages":"37","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},"1ctg7o2",{"filePath":"39","messages":"40","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"41","messages":"42","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"43","messages":"44","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"45"},{"filePath":"46","messages":"47","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"48","usedDeprecatedRules":"45"},{"filePath":"49","messages":"50","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"51","messages":"52","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"53","usedDeprecatedRules":"45"},{"filePath":"54","messages":"55","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"56","messages":"57","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"58","messages":"59","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"60","messages":"61","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"62"},{"filePath":"63","messages":"64","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"65","messages":"66","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"67","messages":"68","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"69","messages":"70","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"71","messages":"72","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"73"},{"filePath":"74","messages":"75","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/Users/apple/dev/nober-eats-frontend/src/App.tsx",[],["76","77"],"/Users/apple/dev/nober-eats-frontend/src/pages/404.tsx",[],"/Users/apple/dev/nober-eats-frontend/src/components/form-error.tsx",[],"/Users/apple/dev/nober-eats-frontend/src/index.tsx",[],["78","79"],"/Users/apple/dev/nober-eats-frontend/src/routers/logged-in-router.tsx",["80"],"import React from 'react';\nimport { Redirect, Route, BrowserRouter as Router, Switch } from 'react-router-dom';\nimport { isLoggedInVar } from '../apollo';\nimport { Header } from '../components/header';\nimport { LOCALSTORAGE_TOKEN } from '../constant';\nimport { useMe } from '../hooks/useMe';\nimport { NotFound } from '../pages/404';\nimport { Restaurants } from '../pages/client/restaurants';\nimport { ConfirmEmail } from '../pages/user/confirm-email';\nimport { EditProfile } from '../pages/user/edit-profile';\nimport { UserRole } from '../__generated__/globalTypes';\n\nconst ClientRoutes = [\n    <Route key={1} path=\"/\" exact>\n        <Restaurants />\n    </Route>,\n    <Route key={2} path=\"/confirm\" exact>\n        <ConfirmEmail />\n    </Route>,\n    <Route key={3} path=\"/edit-profile\" exact>\n        <EditProfile />\n    </Route>,\n];\n\nexport const LoggedInRouter: React.FC = () => {\n    const onClick = () => {\n        localStorage.removeItem(LOCALSTORAGE_TOKEN);\n        isLoggedInVar(Boolean(localStorage.getItem(LOCALSTORAGE_TOKEN)));\n    };\n\n    const { data, loading, error } = useMe();\n\n    if (!data || loading || error) {\n        return (\n            <div className=\"h-screen flex justify-center items-center\">\n                <span className=\"font-medium text-xl tracking-wide\">Loading...</span>\n            </div>\n        );\n    }\n    return (\n        <Router>\n            <Header />\n            <Switch>\n                {data.me.role === UserRole.client && ClientRoutes}\n                <Redirect to=\"/\" />\n                <Route>\n                    <NotFound />\n                </Route>\n            </Switch>\n        </Router>\n    );\n};\n","/Users/apple/dev/nober-eats-frontend/src/constant.ts",[],"/Users/apple/dev/nober-eats-frontend/src/pages/create-account.tsx",["81"],"import { gql, useMutation } from '@apollo/client';\nimport React from 'react';\nimport { useForm } from 'react-hook-form';\nimport { FormError } from '../components/form-error';\nimport nuberLogo from '../images/logo.svg';\nimport { Helmet } from 'react-helmet-async';\nimport { createAccountMutation, createAccountMutationVariables } from '../__generated__/createAccountMutation';\nimport { UserRole } from '../__generated__/globalTypes';\nimport { Link, useHistory } from 'react-router-dom';\nimport { Button } from '../components/button';\n\nconst CREATE_ACCOUNT_MUTATION = gql`\n    mutation createAccountMutation($createAccountInput: CreateAccountInput!) {\n        createAccount(input: $createAccountInput) {\n            ok\n            error\n        }\n    }\n`;\n\ninterface ICreateAccountForm {\n    email: string;\n    password: string;\n    role: UserRole;\n}\n\nexport const CreateAccount = () => {\n    const {\n        register,\n        getValues,\n        // watch,\n        errors,\n        formState,\n        handleSubmit,\n    } = useForm<ICreateAccountForm>({\n        mode: 'onChange',\n        defaultValues: {\n            role: UserRole.client,\n        },\n    });\n    const history = useHistory();\n    const onCompleted = (data: createAccountMutation) => {\n        const {\n            createAccount: { ok },\n        } = data;\n        if (ok) {\n            alert('Account Created! Log in now!');\n            history.push('/');\n        }\n    };\n\n    const [createAccountMutation, { data: createAccountMutationResult, loading }] = useMutation<\n        createAccountMutation,\n        createAccountMutationVariables\n    >(\n        CREATE_ACCOUNT_MUTATION,\n        { onCompleted }\n        // {\n        // variables: {\n        //   loginInput: {\n        //     email: watch(\"email\"),\n        //     password: watch(\"password\"),\n        //   },\n        // },}\n    );\n\n    const onSubmit = () => {\n        if (!loading) {\n            const { email, password, role } = getValues();\n            createAccountMutation({\n                variables: {\n                    createAccountInput: {\n                        email,\n                        password,\n                        role,\n                    },\n                },\n            });\n        }\n    };\n    return (\n        <div className=\"h-screen flex items-center flex-col mt-10 lg:mt-28\">\n            <Helmet>\n                <title>Create Account | Nober Eats</title>\n            </Helmet>\n            <div className=\"w-full max-w-screen-sm flex flex-col px-5 items-center\">\n                <img src={nuberLogo} className=\"w-52 mb-10\" />\n                <h4 className=\"w-full font-medium text-left text-3xl mb-5\">Let's get started</h4>\n                <form onSubmit={handleSubmit(onSubmit)} className=\"grid gap-3 mt-5 w-full mb-5\">\n                    <input\n                        ref={register({\n                            required: '이메일을 입력하여 주세요.',\n                            pattern: /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/,\n                        })}\n                        name=\"email\"\n                        required\n                        type=\"email\"\n                        placeholder=\"Email\"\n                        className=\"input\"\n                    />\n                    {errors.email?.message && <FormError errorMessage={errors.email?.message} />}\n                    {errors.email?.type === 'pattern' && <FormError errorMessage={'Please enter a valid email'} />}\n                    <input\n                        ref={register({\n                            required: '비밀번호를 입력하여 주세요.',\n                        })}\n                        required\n                        type=\"password\"\n                        name=\"password\"\n                        placeholder=\"password\"\n                        className=\"input\"\n                    />\n                    {errors.password?.message && <FormError errorMessage={errors.password?.message} />}\n                    <select name=\"role\" ref={register({ required: true })} className=\"input\">\n                        {Object.keys(UserRole).map((role, index) => (\n                            <option key={index}>{role}</option>\n                        ))}\n                    </select>\n                    <Button canClick={formState.isValid} loading={loading} actionText={'Create Account'} />\n                    {createAccountMutationResult?.createAccount.error && (\n                        <FormError errorMessage={createAccountMutationResult.createAccount.error} />\n                    )}\n                </form>\n                <div>\n                    Already have an account?{' '}\n                    <Link to=\"/\" className=\"link\">\n                        Log in now\n                    </Link>\n                </div>\n            </div>\n        </div>\n    );\n};\n","/Users/apple/dev/nober-eats-frontend/src/pages/login.tsx",[],"/Users/apple/dev/nober-eats-frontend/src/components/header.tsx",[],"/Users/apple/dev/nober-eats-frontend/src/pages/user/confirm-email.tsx",["82","83","84","85"],"/Users/apple/dev/nober-eats-frontend/src/routers/logged-out-router.tsx",[],["86","87"],"/Users/apple/dev/nober-eats-frontend/src/pages/user/edit-profile.tsx",["88","89"],"/Users/apple/dev/nober-eats-frontend/src/apollo.ts",[],"/Users/apple/dev/nober-eats-frontend/src/pages/client/restaurants.tsx",[],"/Users/apple/dev/nober-eats-frontend/src/components/button.tsx",["90"],"/Users/apple/dev/nober-eats-frontend/src/reportWebVitals.ts",[],["91","92"],"/Users/apple/dev/nober-eats-frontend/src/__generated__/globalTypes.ts",[],{"ruleId":"93","replacedBy":"94"},{"ruleId":"95","replacedBy":"96"},{"ruleId":"93","replacedBy":"97"},{"ruleId":"95","replacedBy":"98"},{"ruleId":"99","severity":1,"message":"100","line":26,"column":11,"nodeType":"101","messageId":"102","endLine":26,"endColumn":18},{"ruleId":"103","severity":1,"message":"104","line":87,"column":17,"nodeType":"105","endLine":87,"endColumn":63},{"ruleId":"99","severity":1,"message":"106","line":3,"column":22,"nodeType":"101","messageId":"102","endLine":3,"endColumn":33},{"ruleId":"99","severity":1,"message":"107","line":20,"column":11,"nodeType":"101","messageId":"102","endLine":20,"endColumn":22},{"ruleId":"99","severity":1,"message":"108","line":43,"column":16,"nodeType":"101","messageId":"102","endLine":43,"endColumn":17},{"ruleId":"109","severity":1,"message":"110","line":52,"column":8,"nodeType":"111","endLine":52,"endColumn":10,"suggestions":"112"},{"ruleId":"93","replacedBy":"113"},{"ruleId":"95","replacedBy":"114"},{"ruleId":"99","severity":1,"message":"107","line":25,"column":11,"nodeType":"101","messageId":"102","endLine":25,"endColumn":22},{"ruleId":"99","severity":1,"message":"115","line":52,"column":27,"nodeType":"101","messageId":"102","endLine":52,"endColumn":34},{"ruleId":"116","severity":1,"message":"117","line":14,"column":3,"nodeType":"105","endLine":21,"endColumn":4},{"ruleId":"93","replacedBy":"118"},{"ruleId":"95","replacedBy":"119"},"no-native-reassign",["120"],"no-negated-in-lhs",["121"],["120"],["121"],"@typescript-eslint/no-unused-vars","'onClick' is assigned a value but never used.","Identifier","unusedVar","jsx-a11y/alt-text","img elements must have an alt prop, either with meaningful text, or an empty string for decorative images.","JSXOpeningElement","'useLocation' is defined but never used.","'onCompleted' is assigned a value but never used.","'_' is assigned a value but never used.","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'verifyEmail'. Either include it or remove the dependency array.","ArrayExpression",["122"],["120"],["121"],"'loading' is assigned a value but never used.","jsx-a11y/no-redundant-roles","The element button has an implicit role of button. Defining this explicitly is redundant and should be avoided.",["120"],["121"],"no-global-assign","no-unsafe-negation",{"desc":"123","fix":"124"},"Update the dependencies array to be: [verifyEmail]",{"range":"125","text":"126"},[1620,1622],"[verifyEmail]"]